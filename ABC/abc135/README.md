# AtCoder Beginner Contest 135

解説: [https://www.planeta.tokyo/abc-135](https://www.planeta.tokyo/abc-135)

## A - Harmony

|A - K| = |B - K| を変形すると
A - K = B - K or K - B つまり
A = B or K = (A + B) / 2 となる。

今回問題文に A, B は相異なる整数と書いてあるので K = (A + B) / 2 であり、これが整数かどうかで IMPOSSIBLE かどうかを場合分けして考えれば OK。

## B - 0 or 1 Swap

p の index と p の値を比較し、それが異なるものをカウントしたときの個数が 2 以下のときに実現可能。

## C - City Savers

A[0] から順番に見ていく。B[0] が A[0] を上回っていた場合、余剰分が A[1] だけに作用する。（つまり、A[2]以降には作用しないことに注意）

そこで、余剰分 surplus を設定し、無駄のないように B[i] の前に surplus が A[i] に作用する用に書いてあげれば良し。

## D - Digits Parade

Sの長さが10^5なので全探索しようとするとO(10^(10^5))となって出来ない。ということで他の方法を考える必要がある。剰余の計算を下のように桁ごとに分割して考えることが出来ることに着目すると、dpで行けそうだと判断できる。

```plaintext
??2??5 を 13 で割った余り
= ?*10^5 + ?*10^4 + 2*10^3 + ?*10^2 + ?*10 + 5 を 13 で割った余り
= (?*10^5 を 13 で割った余り) + (?*10^4 を 13 で割った余り) + (2*10^3 を 13 で割った余り) + (?*10^2 を 13 で割った余り) + (?*10 を 13 で割った余り) + (5 を 13 で割った余り)
```

すなわち次のようにdpテーブルを設定できる。

```plaintext
dp[i][j] = 後ろから i 桁を 13 で割った余りが j であるものの個数
```

すると、求めるべきは `dp[len(S)][5]` であり、あとは状態間の遷移を考えてあげればOK。

### 参考: ある数 X = ??2??5 を下から見ていったときの 13 で割ったあまりの遷移の表

| X | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 0 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| 5 | 0 | 0 | 0 | 0 | 0 | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
| ?5 | 1 | 0 | 1 | 1 | 1 | 1 | 1 | 1 | 0 | 1 | 1 | 0 | 1 |
| ??5 | 8 | 7 | 8 | 8 | 7 | 8 | 8 | 8 | 7 | 8 | 8 | 7 | 8 |
| 2??5 | 8 | 8 | 7 | 8 | 8 | 8 | 7 | 8 | 8 | 7 | 8 | 8 | 7 |
| ?2??5 | 78 | 76 | 76 | 79 | 76 | 76 | 79 | 76 | 76 | 78 | 77 | 76 | 77 |
| ??2??5 | 771 | 768 | 768 | 772 | 768 | 768 | 771 | 769 | 768 | 770 | 770 | 768 | 769 |
